# SCU-Database-Experiment
å®éªŒè¯¾ä½œä¸š

## ğŸ“‹ é¡¹ç›®è¯´æ˜

æœ¬é¡¹ç›®åŸºäº CMU 15-445/645 æ•°æ®åº“ç³»ç»Ÿè¯¾ç¨‹çš„ BusTub é¡¹ç›®è¿›è¡Œå¼€å‘ï¼Œå®ç°äº†æ•°æ®åº“ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ã€‚

## ğŸ› ï¸ å·²å®ç°åŠŸèƒ½
2025.11.08
- âœ… **å¯æ‰©å±•å“ˆå¸Œè¡¨** (Extendible Hash Table)
- âœ… **LRU-K é¡µé¢æ›¿æ¢ç®—æ³•** (LRU-K Replacer)
- âœ… **ç¼“å†²æ± ç®¡ç†å™¨** (Buffer Pool Manager)

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä½ å·²ç»å®‰è£…äº†å¿…è¦çš„ç¼–è¯‘å·¥å…·ï¼š
- CMake (>= 3.5)
- C++ ç¼–è¯‘å™¨ (æ”¯æŒ C++17)


### ğŸ“¦ ç¼–è¯‘é¡¹ç›®

```bash
cd /bustub_initial
mkdir -p build
cd build
cmake ..
make -j$(sysctl -n hw.ncpu)  # macOS
# æˆ– make -j$(nproc)  # Linux
```

### ğŸ§ª æµ‹è¯•å•ä¸ªåŠŸèƒ½

#### ä¾‹ï¼šæµ‹è¯•å¯æ‰©å±•å“ˆå¸Œè¡¨ (Extendible Hash Table)

**åŠŸèƒ½è¯´æ˜**ï¼šå®ç°äº†ä¸€ä¸ªæ— éœ€é¢„å…ˆæŒ‡å®šå¤§å°çš„å¯æ‰©å±•å“ˆå¸Œè¡¨ï¼Œç”¨äºç¼“å†²æ± ä¸­é¡µé¢IDå’Œå¸§IDçš„æ˜ å°„ã€‚

**ç›¸å…³æ–‡ä»¶**ï¼š
- å®ç°æ–‡ä»¶ï¼š`src/container/hash/extendible_hash_table.cpp`
- å¤´æ–‡ä»¶ï¼š`src/include/container/hash/extendible_hash_table.h`

**æµ‹è¯•æ­¥éª¤**ï¼š

```bash
# è¿›å…¥ build ç›®å½•
cd /bustub_initial/build

# ç¼–è¯‘æµ‹è¯•
make extendible_hash_table_test

# è¿è¡Œæµ‹è¯•
./test/extendible_hash_table_test
```


### ğŸ¯ è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
# ç¼–è¯‘æ‰€æœ‰æµ‹è¯•
make build-tests

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make check-tests
```

### ğŸ› è°ƒè¯•æŠ€å·§

å¦‚æœé‡åˆ°æµ‹è¯•å¤±è´¥ï¼Œå¯ä»¥ï¼š

1. **æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯**ï¼š
   ```bash
   ./test/extendible_hash_table_test --gtest_filter=ExtendibleHashTableTest.InsertSplit
   ```

2. **ä½¿ç”¨ Address Sanitizer æ£€æµ‹å†…å­˜é—®é¢˜**ï¼š
   ```bash
   # å·²åœ¨ Debug æ¨¡å¼ä¸‹è‡ªåŠ¨å¯ç”¨
   ```

3. **æŸ¥çœ‹æµ‹è¯•æ—¥å¿—**ï¼š
   ```bash
   cat Testing/Temporary/LastTest.log
   ```

### ğŸ“Š ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–ä»£ç 
make format

# æ£€æŸ¥ä»£ç é£æ ¼
make check-lint
```

## ğŸ“ å®ç°è¦ç‚¹

### å¯æ‰©å±•å“ˆå¸Œè¡¨
- æ”¯æŒåŠ¨æ€æ‰©å±•ï¼Œæ— éœ€é¢„è®¾å¤§å°
- çº¿ç¨‹å®‰å…¨ï¼Œä½¿ç”¨äº’æ–¥é”ä¿æŠ¤
- å®ç°äº†æ¡¶åˆ†è£‚å’Œç›®å½•æ‰©å±•æœºåˆ¶

### LRU-K æ›¿æ¢å™¨
- è¿½è¸ªé¡µé¢çš„è®¿é—®å†å²
- æ·˜æ±°åé€€ k-è·ç¦»æœ€å¤§çš„é¡µé¢
- æ”¯æŒå¹¶å‘è®¿é—®

### ç¼“å†²æ± ç®¡ç†å™¨
- ç®¡ç†å†…å­˜é¡µé¢å’Œç£ç›˜é¡µé¢çš„äº¤äº’
- å®ç°é¡µé¢å›ºå®š/é‡Šæ”¾æœºåˆ¶
- è‡ªåŠ¨å¤„ç†è„é¡µå†™å›
- é›†æˆ LRU-K æ›¿æ¢ç­–ç•¥

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªåŸ BusTub é¡¹ç›®çš„è®¸å¯è¯ã€‚
